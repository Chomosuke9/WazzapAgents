# =========================
# Wajib (minimal agar gateway jalan)
# =========================
LLM_WS_ENDPOINT=ws://localhost:8080/ws

# =========================
# Opsional
# =========================

# Node gateway runtime
INSTANCE_ID=dev-gateway-1
LLM_WS_TOKEN=
DATA_DIR=./data
MEDIA_DIR=./data/media
LOG_LEVEL=info
WS_RECONNECT_MS=5000
GROUP_METADATA_TIMEOUT_MS=8000
DOWNLOAD_TIMEOUT_MS=60000
SEND_TIMEOUT_MS=60000
UPSERT_CONCURRENCY=5
PERF_LOG_ENABLED=1
PERF_LOG_THRESHOLD_MS=400

# Python bridge runtime (ingress debounce + history window)
HISTORY_LIMIT=20
INCOMING_DEBOUNCE_SECONDS=5
INCOMING_BURST_MAX_SECONDS=20

# LLM1 (decision/gating)
# Set LLM1_ENDPOINT empty to disable LLM1 and always allow response.
LLM1_ENDPOINT=https://openrouter.ai/api/v1/chat/completions
LLM1_MODEL=openai/gpt-oss-20b
LLM1_API_KEY=
# Optional LLM1 fallback (used if primary invoke fails).
# If LLM1_FALLBACK_ENDPOINT is empty, it reuses LLM1_ENDPOINT.
LLM1_FALLBACK_ENDPOINT=
LLM1_FALLBACK_MODEL=
LLM1_FALLBACK_API_KEY=
# Optional fallback when LLM1_API_KEY is empty.
OPENAI_API_KEY=
LLM1_TEMPERATURE=0
LLM1_MAX_TOKENS=
LLM1_HISTORY_LIMIT=20
LLM1_MESSAGE_MAX_CHARS=500
LLM1_ENABLE_MEDIA_INPUT=0
LLM1_TIMEOUT=8
LLM1_SDK_MAX_RETRIES=0
# Optional: set low|medium|high for models/providers that support reasoning.
LLM1_REASONING_EFFORT=

# LLM2 (final responder)
LLM2_MODEL=gpt-5.3
LLM2_ENDPOINT=
LLM2_API_KEY=
# Optional LLM2 fallback (used if primary invoke fails).
# If LLM2_FALLBACK_ENDPOINT is empty, it reuses LLM2_ENDPOINT.
LLM2_FALLBACK_MODEL=
LLM2_FALLBACK_ENDPOINT=
LLM2_FALLBACK_API_KEY=
LLM2_TEMPERATURE=0.5
LLM2_TIMEOUT=20
LLM2_RETRY_MAX=0
LLM2_RETRY_BACKOFF_SECONDS=0.8
LLM2_SDK_MAX_RETRIES=0
LLM2_REASONING_EFFORT=medium
LLM2_ENABLE_MEDIA_INPUT=1

# Shared media controls for LLM1/LLM2 multimodal input
LLM_MEDIA_MAX_ITEMS=2
LLM_MEDIA_MAX_BYTES=5242880

# Python bridge logging
BRIDGE_LOG_LEVEL=info
BRIDGE_LOG_PROMPT_FULL=0
BRIDGE_LOG_EXTRAS_LIMIT=4000
# 0 = info logs compact (default), 1 = include `extras=` on INFO logs
BRIDGE_LOG_INFO_EXTRAS=0
# fixed width for `[chat_scope]` label (group name preferred, fallback chatId)
BRIDGE_LOG_CHAT_LABEL_WIDTH=24
BRIDGE_LOG_CHAT_LABEL_DEFAULT=system
BRIDGE_SLOW_BATCH_LOG_MS=2000
BRIDGE_MAX_TRIGGER_BATCH_AGE_MS=45000
BRIDGE_REPLY_DEDUP_WINDOW_MS=120000
BRIDGE_REPLY_DEDUP_MIN_CHARS=24
BRIDGE_ASSISTANT_ECHO_MERGE_WINDOW_MS=180000
